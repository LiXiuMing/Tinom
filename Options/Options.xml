<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/
F:\World of Warcraft\_retail_\BlizzardInterfaceCode\Interface\FrameXML\UI.xsd">
  <Script file="Options.lua"/>

  <!-- 设置框架模板 -->
  <Frame name="TinomOptionsMainPanelTabTemplate" hidden="true" virtual="true">
    <Anchors>
      <Anchor point="TOPLEFT" x="5" y="-110"/>
      <Anchor point="BOTTOMRIGHT" x="-5" y="5"/>
    </Anchors>
    
    <Backdrop bgFile="Interface\chatframe\chatframebackground" edgeFile="Interface\Tooltips\UI-Tooltip-Border" tile="true">
      <EdgeSize>
        <AbsValue val="16"/>
      </EdgeSize>

      <BorderColor r="1" g="1" b="0" a="1"/>
      <Color r="0.2" g="0.2" b="0.2" a="0.4"/>

      <BackgroundInsets>
        <AbsInset left="5" right="5" top="5" bottom="5"/>
      </BackgroundInsets>
    </Backdrop>

    <Layers>
      <Layer level="ARTWORK">
        <FontString name="$parentTitle" inherits="OptionsFontHighlight" justifyH="LEFT" justifyV="TOP">
          <Anchors>
            <Anchor point="TOPLEFT">
              <Offset>
                <AbsDimension x="16" y="-16"/>
              </Offset>
            </Anchor>
          </Anchors>
        </FontString>
        <Texture name="$parentTitleUnderline">
          <Anchors>
            <Anchor point="LEFT" relativeTo="$parentTitle" relativePoint="BOTTOMLEFT" x="0" y="-4"/>
            <Anchor point="RIGHT" relativeTo="$parentTitle" x="0" y="0"/>
          </Anchors>
          <Color r="1" g="1" b="0" a="1"/>
        </Texture>
      </Layer>
    </Layers>

    <Frames>

    </Frames>

    <Scripts>
      <OnLoad>
      </OnLoad>
    </Scripts>

  </Frame>
  <!-- 复选按钮模板 -->
  <CheckButton name="TinomOptionsMainPanelCheckButton_Template" inherits="InterfaceOptionsCheckButtonTemplate" virtual="true">
    <Layers>
      <Layer level="ARTWORK">
        <FontString name="$parentText" inherits="GameFontHighlightLeft" parentKey="Text">
          <Anchors>
            <Anchor point="LEFT" relativeTo="$parent" relativePoint="RIGHT">
              <Offset>
                <AbsDimension x="0" y="0"/>
              </Offset>
            </Anchor>
          </Anchors>
        </FontString>
      </Layer>
    </Layers>
    <Scripts>
      <OnLoad>
        Tinom.OptionsBaseSettingCheckButton_OnLoad(self)
      </OnLoad>
      <OnClick>
        Tinom.OptionsBaseSettingCheckButton_OnClick(self);
      </OnClick>
    </Scripts>
  </CheckButton>
  <!-- 名单编辑框模板 -->
  <Frame name="TinomOptionsMainPanelEditListTemplate" virtual="true">
    <Size x="200"/>
    <Layers>
      <Layer level="ARTWORK">
        <FontString name="$parentTitle" inherits="GameFontHighlightLeft" parentKey="Text">
          <Anchors>
            <Anchor point="CENTER" relativeTo="$parent" relativePoint="TOP">
              <Offset>
                <AbsDimension x="0" y="6"/>
              </Offset>
            </Anchor>
          </Anchors>
        </FontString>
      </Layer>
    </Layers>
    <Backdrop bgFile="Interface\chatframe\chatframebackground" edgeFile="Interface\Tooltips\UI-Tooltip-Border" tile="true">
      <EdgeSize>
        <AbsValue val="16"/>
      </EdgeSize>

      <BorderColor r="1" g="1" b="0" a="1"/>
      <Color r="0.1" g="0.2" b="0.2" a="1"/>

      <BackgroundInsets>
        <AbsInset left="5" right="5" top="5" bottom="5"/>
      </BackgroundInsets>
    </Backdrop>
    <Frames>
      <ScrollFrame name="$parentScrollFrame" inherits="UIPanelScrollFrameTemplate">
        <Anchors>
          <Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPLEFT" x="6" y="-6"/>
          <Anchor point="BOTTOMRIGHT" relativeTo="$parent" relativePoint="BOTTOMRIGHT" x="-28" y="6"/>
        </Anchors>
        
        <Frames>
          <EditBox name="$parentEditBox" multiLine="true" autoFocus="false" mytype="ssss">
            <FontString inherits="ChatFontNormal"></FontString>
            <Scripts>
              <OnLoad>
                <!-- Test.ScrollFrame_EditBox_OnLoad(self) -->
              </OnLoad>
              <OnShow>
                self:SetWidth(self:GetParent():GetWidth());
                <!-- local grandParentName = self:GetParent():GetParent():GetName(); -->
                <!-- local listType = string.sub(grandParentName,string.find(grandParentName,"_")+1) -->
                <!-- Tinom.OptionsPanel_EditBox_OnShow(self,listType); -->
              </OnShow>

              <OnCursorChanged>
                <!-- Tinom.OptionsPanel_EditBox_OnCursorChanged(self); -->
              </OnCursorChanged>
            </Scripts>
          </EditBox>
        </Frames>
        <Scripts>
          <OnLoad>
            self:SetScrollChild(_G[self:GetName().."EditBox"]);
          </OnLoad>
        </Scripts>
      </ScrollFrame>

    </Frames>

    <Scripts>
      <OnLoad>
      
      </OnLoad>
    </Scripts>

  </Frame>

  <!-- 主设置界面 -->
  <Frame name="TinomOptionsMainPanel" text="TINOM_OPTION_MAINPANEL_LABEL" hidden="true" parent="InterfaceOptionsFramePanelContainer">
    <Layers>
      <Layer level="ARTWORK">

        <!-- 主设置页面标题 -->
        <FontString name="$parentTitle" text="TINOM_OPTION_MAINPANEL_TITLE" inherits="GameFontNormalLarge" justifyH="LEFT" justifyV="TOP">
          <Anchors>
            <Anchor point="TOPLEFT">
              <Offset>
                <AbsDimension x="16" y="-16"/>
              </Offset>
            </Anchor>
          </Anchors>
        </FontString>

        <!-- 主设置页面插件说明 -->
        <FontString name="$parentSubText" text="TINOM_OPTION_MAINPANEL_SUBTEXT" inherits="GameFontHighlightSmall" justifyH="LEFT" justifyV="TOP" maxLines="2">
          <Size>
            <AbsDimension x="0" y="30"/>
          </Size>
          <Anchors>
            <Anchor point="TOPLEFT" relativeTo="$parentTitle" relativePoint="BOTTOMLEFT">
              <Offset>
                <AbsDimension x="16" y="-8"/>
              </Offset>
            </Anchor>
            <Anchor point="TOPRIGHT">
              <Offset>
                <AbsDimension x="-32" y="0"/>
              </Offset>
            </Anchor>
          </Anchors>
        </FontString>

        <!-- 分割条 -->
        <Texture name="$parentTextureLine">
          <Anchors>
            <Anchor point="LEFT" relativeTo="$parentSubText" relativePoint="BOTTOMLEFT" x="0" y="-4"/>
            <Anchor point="RIGHT" relativeTo="$parentSubText" x="0" y="0"/>
          </Anchors>
          <Color r="0.6" g="0.6" b="0.6" a="1"/>
        </Texture>

      </Layer>
    </Layers>

    <Frames>
      <!-- 插件开启复选按钮 -->
      <CheckButton name="$parentCheckButton_MainEnable" inherits="TinomOptionsMainPanelCheckButton_Template">
        <Anchors>
          <Anchor point="TOPLEFT" relativeTo="$parentSubText" relativePoint="BOTTOMLEFT">
            <Offset>
              <AbsDimension x="-14" y="-10"/>
            </Offset>
          </Anchor>
        </Anchors>
        <Scripts>
          <OnClick>
            Tinom.OptionsMainEnableCheckButton_OnClick(self);
          </OnClick>
        </Scripts>
      </CheckButton>

      <!-- 基础设置框架 -->
      <Frame name="$parentBaseSetting" parent="TinomOptionsMainPanel" inherits="TinomOptionsMainPanelTabTemplate">
        <Layers>
          <Layer level="ARTWORK">
            <!-- 分割条 -->
            <Texture parentKey="$parentTextureLine1">
              <Size y="1"/>
              <Anchors>
                <Anchor point="LEFT" relativeTo="$parent" relativePoint="TOPLEFT" x="10" y="-110"/>
                <Anchor point="RIGHT" relativeTo="$parent" x="-300" y="0"/>
              </Anchors>
              <Color r="0.6" g="0.6" b="0.6" a="1"/>
            </Texture>
            <Texture parentKey="$parentTextureLine2">
              <Anchors>
                <Anchor point="LEFT" relativeTo="$parent" relativePoint="TOPLEFT" x="10" y="-190"/>
                <Anchor point="RIGHT" relativeTo="$parent" x="-300" y="0"/>
              </Anchors>
              <Color r="0.6" g="0.6" b="0.6" a="1"/>
            </Texture>
            <Texture parentKey="$parentTextureLine3">
              <Anchors>
                <Anchor point="LEFT" relativeTo="$parent" relativePoint="TOPLEFT" x="10" y="-270"/>
                <Anchor point="RIGHT" relativeTo="$parent" x="-300" y="0"/>
              </Anchors>
              <Color r="0.6" g="0.6" b="0.6" a="1"/>
            </Texture>
            <Texture parentKey="$parentTextureLine4">
              <Anchors>
                <Anchor point="LEFT" relativeTo="$parent" relativePoint="TOPLEFT" x="10" y="-350"/>
                <Anchor point="RIGHT" relativeTo="$parent" x="-300" y="0"/>
              </Anchors>
              <Color r="0.6" g="0.6" b="0.6" a="1"/>
            </Texture>
          </Layer>
        </Layers>
        <Frames>
          <!-- 白名单复选按钮 -->
          <CheckButton name="$parentCheckButton_WhiteList" inherits="TinomOptionsMainPanelCheckButton_Template">
            <Anchors>
              <Anchor point="TOPLEFT" relativeTo="$parentTitleUnderline" relativePoint="BOTTOMLEFT">
                <Offset x="0" y="-12"/>
              </Anchor>
            </Anchors>
          </CheckButton>
          <!-- 白名单关键字复选按钮 -->
          <CheckButton name="$parentCheckButton_WhiteListKeyWord" inherits="TinomOptionsMainPanelCheckButton_Template">
            <Anchors>
              <Anchor point="TOPLEFT" relativeTo="$parentCheckButton_WhiteList" relativePoint="BOTTOMLEFT">
                <Offset x="0" y="-5"/>
              </Anchor>
            </Anchors>
          </CheckButton>
          <!-- 只显示白名单消息复选按钮 -->
          <CheckButton name="$parentCheckButton_WhiteListOnly" inherits="TinomOptionsMainPanelCheckButton_Template">
            <Anchors>
              <Anchor point="LEFT" relativeTo="$parentCheckButton_WhiteListKeyWordText" relativePoint="RIGHT">
                <Offset x="10" y="0"/>
              </Anchor>
            </Anchors>
          </CheckButton>
          <!-- 黑名单复选按钮 -->
          <CheckButton name="$parentCheckButton_BlackList" inherits="TinomOptionsMainPanelCheckButton_Template">
            <Anchors>
              <Anchor point="TOPLEFT" relativeTo="$parentCheckButton_WhiteListKeyWord" relativePoint="BOTTOMLEFT">
                <Offset x="0" y="-20"/>
              </Anchor>
            </Anchors>
          </CheckButton>
          <!-- 黑名单关键字复选按钮 -->
          <CheckButton name="$parentCheckButton_BlackListKeyWord" inherits="TinomOptionsMainPanelCheckButton_Template">
            <Anchors>
              <Anchor point="TOPLEFT" relativeTo="$parentCheckButton_BlackList" relativePoint="BOTTOMLEFT">
                <Offset x="0" y="-5"/>
              </Anchor>
            </Anchors>
          </CheckButton>

          <!-- 替换名单复选按钮 -->
          <CheckButton name="$parentCheckButton_ReplaceName" inherits="TinomOptionsMainPanelCheckButton_Template">
            <Anchors>
              <Anchor point="TOPLEFT" relativeTo="$parentCheckButton_BlackListKeyWord" relativePoint="BOTTOMLEFT">
                <Offset x="0" y="-20"/>
              </Anchor>
            </Anchors>
          </CheckButton>
          <!-- 替换关键字复选按钮 -->
          <CheckButton name="$parentCheckButton_ReplaceNameMsg" inherits="TinomOptionsMainPanelCheckButton_Template">
            <Anchors>
              <Anchor point="TOPLEFT" relativeTo="$parentCheckButton_ReplaceName" relativePoint="BOTTOMLEFT">
                <Offset x="0" y="-5"/>
              </Anchor>
            </Anchors>
          </CheckButton>
          <!-- 替换角色消息复选按钮 -->
          <CheckButton name="$parentCheckButton_ReplaceKeyWord" inherits="TinomOptionsMainPanelCheckButton_Template">
            <Anchors>
              <Anchor point="TOPLEFT" relativeTo="$parentCheckButton_ReplaceNameMsg" relativePoint="BOTTOMLEFT">
                <Offset x="0" y="-20"/>
              </Anchor>
            </Anchors>
          </CheckButton>
          <!-- 替换关键字消息复选按钮 -->
          <CheckButton name="$parentCheckButton_ReplaceKeyWordMsg" inherits="TinomOptionsMainPanelCheckButton_Template">
            <Anchors>
              <Anchor point="TOPLEFT" relativeTo="$parentCheckButton_ReplaceKeyWord" relativePoint="BOTTOMLEFT">
                <Offset x="0" y="-5"/>
              </Anchor>
            </Anchors>
          </CheckButton>

          <!-- 缓存过滤消息复选按钮 -->
          <CheckButton name="$parentCheckButton_CacheMsgRepeat" inherits="TinomOptionsMainPanelCheckButton_Template">
            <Anchors>
              <Anchor point="TOPLEFT" relativeTo="$parentCheckButton_ReplaceKeyWordMsg" relativePoint="BOTTOMLEFT">
                <Offset x="0" y="-20"/>
              </Anchor>
            </Anchors>
          </CheckButton>
          
        </Frames>
        
        <Scripts>
          <OnLoad>
            _G[self:GetName().."Title"]:SetText("过滤单的优先级从上至下递减")
          </OnLoad>
        </Scripts>
      </Frame>

      <!-- 白名单设置框架 -->
      <Frame name="$parentWhiteListSetting" parent="TinomOptionsMainPanel" inherits="TinomOptionsMainPanelTabTemplate">
        <Frames>
          <!-- 白名单编辑框 -->
          <Frame name="$parentEditList_WhiteList" inherits="TinomOptionsMainPanelEditListTemplate">
            <Anchors>
              <Anchor point="TOPLEFT" x="5" y="-60"/>
              <Anchor point="BOTTOMLEFT" y="5"/>
            </Anchors>
            <Scripts>
              <OnLoad>
                _G[self:GetName().."Title"]:SetText("白名单列表");
              </OnLoad>
            </Scripts>
          </Frame>

          <!-- 白名单关键字编辑框 -->
          <Frame name="$parentEditList_WhiteListKeyWord" inherits="TinomOptionsMainPanelEditListTemplate">
            <Anchors>
              <Anchor point="TOPLEFT" relativeTo="$parentEditList_WhiteList" relativePoint="TOPRIGHT" x="20" />
              <Anchor point="BOTTOMLEFT" relativeTo="$parentEditList_WhiteList" relativePoint="BOTTOMRIGHT"/>
            </Anchors>
            <Scripts>
              <OnLoad>
                _G[self:GetName().."Title"]:SetText("白名单关键字列表");
              </OnLoad>
            </Scripts>
          </Frame>
        </Frames>

        <Scripts>
          <OnLoad>
            _G[self:GetName().."Title"]:SetText("白名单设置:每行一个角色名或者关键字")
          </OnLoad>
        </Scripts>
      </Frame>

      <!-- 黑名单设置框架 -->
      <Frame name="$parentBlackListSetting" parent="TinomOptionsMainPanel" inherits="TinomOptionsMainPanelTabTemplate">
        <Frames>
          <!-- 黑名单编辑框 -->
          <Frame name="$parentEditList_BlackList" inherits="TinomOptionsMainPanelEditListTemplate">
            <Anchors>
              <Anchor point="TOPLEFT" x="5" y="-60"/>
              <Anchor point="BOTTOMLEFT" y="5"/>
            </Anchors>
            <Scripts>
              <OnLoad>
                _G[self:GetName().."Title"]:SetText("黑名单列表");
              </OnLoad>
            </Scripts>
          </Frame>

          <!-- 黑名单关键字编辑框 -->
          <Frame name="$parentEditList_BlackListKeyWord" inherits="TinomOptionsMainPanelEditListTemplate">
            <Anchors>
              <Anchor point="TOPLEFT" relativeTo="$parentEditList_BlackList" relativePoint="TOPRIGHT" x="20" />
              <Anchor point="BOTTOMLEFT" relativeTo="$parentEditList_BlackList" relativePoint="BOTTOMRIGHT"/>
            </Anchors>
            <Scripts>
              <OnLoad>
              _G[self:GetName().."Title"]:SetText("黑名单关键字列表");
              </OnLoad>
            </Scripts>
          </Frame>
        </Frames>
        
        <Scripts>
          <OnLoad>
            _G[self:GetName().."Title"]:SetText("黑名单设置:每行一个角色名或者关键字")
          </OnLoad>
        </Scripts>
      </Frame>

      <!-- 替换单设置框架 -->
      <Frame name="$parentReplaceListSetting" parent="TinomOptionsMainPanel" inherits="TinomOptionsMainPanelTabTemplate">
        <Scripts>
          <OnLoad>
            _G[self:GetName().."Title"]:SetText("替换单设置:每行一个角色名或者关键字")
          </OnLoad>
        </Scripts>
      </Frame>

      <!-- 一般过滤标签按钮 -->
      <Button name="$parentBaseSettingTabButton" inherits="TabButtonTemplate" text="BASE_SETTINGS">
        <Size x="150" y="25"/>
        <Anchors>
          <Anchor point="BOTTOMLEFT" relativeTo="$parentBaseSetting" relativePoint="TOPLEFT" x="120" y="0"/>
        </Anchors>
        <Scripts>
          <OnLoad>
            <!-- 设置标签的尺寸以适应文字 -->
              PanelTemplates_TabResize(self, 0);
              _G[self:GetName().."HighlightTexture"]:SetWidth(self:GetTextWidth() + 31);
          </OnLoad>
          <OnClick>
            Tinom.OptionsTabButton_OnClick( self );
          </OnClick>
        </Scripts>
      </Button>

      <!-- 白名单标签按钮 -->
      <Button name="$parentWhiteListTabButton" inherits="TabButtonTemplate" text="白名单设置">
        <Size x="150" y="25"/>
        <Anchors>
          <Anchor point="LEFT" relativeTo="$parentBaseSettingTabButton" relativePoint="RIGHT" x="5" y="0"/>
        </Anchors>
        <Scripts>
          <OnLoad>
            <!-- 设置标签的尺寸以适应文字 -->
              PanelTemplates_TabResize(self, 0);
              _G[self:GetName().."HighlightTexture"]:SetWidth(self:GetTextWidth() + 31);
          </OnLoad>
          <OnClick>
              Tinom.OptionsTabButton_OnClick( self );
          </OnClick>
        </Scripts>
      </Button>

      <!-- 黑名单标签按钮 -->
      <Button name="$parentBlackListTabButton" inherits="TabButtonTemplate" text="黑名单设置">
        <Size x="150" y="25"/>
        <Anchors>
          <Anchor point="LEFT" relativeTo="$parentWhiteListTabButton" relativePoint="RIGHT" x="5" y="0"/>
        </Anchors>
        <Scripts>
          <OnLoad>
            <!-- 设置标签的尺寸以适应文字 -->
              PanelTemplates_TabResize(self, 0);
              _G[self:GetName().."HighlightTexture"]:SetWidth(self:GetTextWidth() + 31);
          </OnLoad>
          <OnClick>
              Tinom.OptionsTabButton_OnClick( self );
          </OnClick>
        </Scripts>
      </Button>

      <!-- 替换标签按钮 -->
      <Button name="$parentReplaceListTabButton" inherits="TabButtonTemplate" text="替换单设置">
        <Size x="150" y="25"/>
        <Anchors>
          <Anchor point="LEFT" relativeTo="$parentBlackListTabButton" relativePoint="RIGHT" x="5" y="0"/>
        </Anchors>
        <Scripts>
          <OnLoad>
            <!-- 设置标签的尺寸以适应文字 -->
              PanelTemplates_TabResize(self, 0);
              _G[self:GetName().."HighlightTexture"]:SetWidth(self:GetTextWidth() + 31);
          </OnLoad>
          <OnClick>
              Tinom.OptionsTabButton_OnClick( self );
          </OnClick>
        </Scripts>
      </Button>

    </Frames>

    <Scripts>
      <OnLoad>
        <!-- 设置面板的Okay响应函数,用于保存设置. -->
        function TinomOptionsMainPanel.okay(self)
          Tinom.OptionsMainPanel_Updata();
        end

        <!-- 设置面板的cancel响应函数,用于撤销修改. -->
        function TinomOptionsMainPanel.cancel(self)
          Tinom.OptionsMainPanel_LoadOptions();
        end

        <!-- 先为框架设置一个名字才能添加到设置面板的列表里 -->
        self.name = TINOM_OPTION_MAINPANEL_LABEL;
        InterfaceOptions_AddCategory(self);

        Tinom.OptionsPanel_EnableMovale();
        Tinom.OptionsTabButton_OnLoad();
        
      </OnLoad>
    </Scripts>
  </Frame>

  <Frame>
    <Scripts>
      <OnLoad></OnLoad>
      <OnEvent></OnEvent>
    </Scripts>
  </Frame>
</Ui>